### Три основные состовляющие docker

- `docker-cli`: утилита командной строки, с которой вы взаимодействуете с помощью команды docker.
- `containerd`: Linux Daemon, который управляет контейнерами и запускает их. Он загружает образы из репозитория, управляет хранилищем и сетью, а также контролирует работу контейнеров.
- `runc`: низкоуровневая среда выполнения контейнеров, которая создает и запускает контейнеры.

### Благодаря каким механизмам работает Docker в Linux

- cgroups (контрольные группы) - Ограничивают объем, который вы можете использовать. Механизм для объединения/разбиения наборов задач и всех их будущих дочерних элементов на иерархические группы. Включают в себя измерение ресурсов и ограничение:
  - memory - управляет выделением памяти для групп процессов, ограничивает обьем RAM
  - CPU - ограничивает использование CPU и также распределяет задачи в рамках контрольной группы между процессорными ядрами
  - block I/O - устанавливает лимиты на чтение и запись
  - network - помечает сетевые пакеты специальным тэгом, что позволяет идентифицировать пакеты, порождаемые определённой задачей в рамках контрольной группы
- namespace - ограничивает то, что вы можете видеть (и, следовательно, использовать). Оборачивает глобальный системный ресурс (например RAM) в абстракцию, которая создает видимость для процессов в пространстве имен, что у них есть свой собственный изолированный экземпляр глобального ресурса
  - pid - изолирует pid процессов внутри namespace (то есть процесс думает что у него pid 1)
  - net - процесс, работающий в отдельном network namespace, имеет собственные сетевые устройства, таблицы маршрутизации, правила фаервола и т.д
  - mnt - позволяют создавать деревья файловых систем под отдельные процессы, тем самым создавая представления корневой файловой системы
  - uts - изолирует имя хоста системы для определенного процесса
  - ipc - предоставляет изоляцию для механизмов взаимодействия процессов, таких как семафоры, очереди сообщений, разделяемая память и т.д.
  - user - изолируют идентификаторы и атрибуты. В частности, ID пользователей, групповые ID, корневой каталог, ключи и возможности
